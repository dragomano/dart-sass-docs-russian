---
title: Слэш как деление
icon: lucide/newspaper
---

> В настоящее время Sass рассматривает `/` как операцию деления в одних контекстах и как разделитель в других. Это затрудняет для пользователей Sass определение того, что будет означать любой данный `/`, и усложняет работу с новыми CSS-функциями, которые используют `/` в качестве разделителя.

Сегодня Sass использует [сложные эвристики](../operators/numeric#slash-separated-values) для определения того, должен ли `/` рассматриваться как деление или разделитель. Даже в этом случае, как разделитель, он просто создает строку без кавычек, которую сложно проверить изнутри Sass. Поскольку всё больше и больше CSS-функций, таких как [CSS Grid](https://developer.mozilla.org/en-US/docs/Web/CSS/grid-row) и [новый синтаксис `rgb()` и `hsl()`](https://drafts.csswg.org/css-color/#rgb-functions), используют `/` в качестве разделителя, это становится всё более болезненным для пользователей Sass.

Поскольку Sass является надмножеством CSS, мы соответствуем синтаксису CSS, переопределяя `/` как *только* разделитель. `/` будет рассматриваться как новый тип разделителя списка, аналогично тому, как работает `,` сегодня. Деление вместо этого будет записываться с использованием новой функции `math.div()`. Эта функция будет вести себя точно так же, как `/` ведет себя сегодня.

Это устаревание не влияет на использование `/` внутри выражений `calc()`.

<div class="grid" markdown>

=== "SCSS"

    ```scss
    @use "sass:math";

    // Будущий Sass, пока не работает!
    .item3 {
        $row: span math.div(6, 2) / 7; // Двухэлементный список с разделителем слэш.
        grid-row: $row;
    }
    ```

=== "SASS"

    ```sass
    @use "sass:math"

    // Будущий Sass, пока не работает!
    .item3
      $row: span math.div(6, 2) / 7 // Двухэлементный список с разделителем слэш.
      grid-row: $row
    ```

```css title="CSS"
.item3 {
  grid-row: span 3 / 7;
}
```

</div>

## Переходный период {#transition-period}

Чтобы облегчить переход, мы начали с добавления функции `math.div()`. Оператор `/` пока всё ещё выполняет деление, но при этом он также выводит предупреждение об устаревании. Пользователи должны переключить все деления на использование `math.div()` вместо этого.

!!! tip "Совет"

    Помните, что вы можете отключить предупреждения об устаревании из библиотек, которые вы не контролируете! Если вы используете интерфейс командной строки, вы можете передать [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps), а если вы используете JavaScript API, вы можете установить [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/StringOptions#quietDeps) в `true`.

=== "SCSS"

    ```scss
    @use "sass:math";

    // НЕПРАВИЛЬНО, не будет работать в будущих версиях Sass.
    @debug (12px/4px); // 3

    // ПРАВИЛЬНО, будет работать в будущих версиях Sass.
    @debug math.div(12px, 4px); // 3
    ```

=== "SASS"

    ```sass
    @use "sass:math"

    // НЕПРАВИЛЬНО, не будет работать в будущих версиях Sass.
    @debug (12px/4px) // 3

    // ПРАВИЛЬНО, будет работать в будущих версиях Sass.
    @debug math.div(12px, 4px) // 3
    ```

Списки с разделителем слэш также будут доступны в переходный период. Поскольку их пока нельзя создать с помощью `/`, будет добавлена функция `list.slash()` для их создания. Вы также сможете передать `"slash"` в качестве `$separator` в [функцию `list.join()`](../modules/list#join) и [функцию `list.append()`](../modules/list#append).

<div class="grid" markdown>

=== "SCSS"

    ```scss
    @use "sass:list";
    @use "sass:math";

    .item3 {
      $row: list.slash(span math.div(6, 2), 7);
      grid-row: $row;
    }
    ```

=== "SASS"

    ```sass
    @use "sass:list"
    @use "sass:math"

    .item3
      $row: list.slash(span math.div(6, 2), 7)
      grid-row: $row
    ```

```css title="CSS"
.item3 {
  grid-row: span 3 / 7;
}
```

</div>

В качестве альтернативы пользователи могут обернуть операции деления в выражение `calc()`, которое Sass упростит до одного числа.

=== "SCSS"

    ```scss
    // НЕПРАВИЛЬНО, не будет работать в будущих версиях Sass.
    @debug (12px/4px); // 3

    // ПРАВИЛЬНО, будет работать в будущих версиях Sass.
    @debug calc(12px / 4px); // 3
    ```

=== "SASS"

    ```sass
    // НЕПРАВИЛЬНО, не будет работать в будущих версиях Sass.
    @debug (12px/4px) // 3

    // ПРАВИЛЬНО, будет работать в будущих версиях Sass.
    @debug calc(12px / 4px) // 3
    ```

## Автоматическая миграция {#automatic-migratin}

Вы можете использовать [мигратор Sass](https://github.com/sass/migrator#readme) для автоматического обновления ваших таблиц стилей для использования `math.div()` и `list.slash()`.

```sh
$ npm install -g sass-migrator
$ sass-migrator division **/*.scss
```

## Можно ли отключить предупреждения? {#can-i-silence-the-warnings}

Sass предоставляет мощный набор опций для управления тем, какие предупреждения об устаревании вы видите и когда.

### Краткий и подробный режим {#terse-and-verbose-mode}

По умолчанию Sass работает в кратком режиме, где он будет выводить каждый тип предупреждения об устаревании только пять раз, прежде чем отключит дополнительные предупреждения. Это помогает гарантировать, что пользователи знают, когда им нужно быть в курсе предстоящего критического изменения, не создавая при этом огромного количества шума в консоли.

Если вы запустите Sass в подробном режиме, он будет выводить *каждое* предупреждение об устаревании, с которым столкнется. Это может быть полезно для отслеживания оставшейся работы, которую необходимо выполнить при исправлении устареваний. Вы можете включить подробный режим, используя [флаг `--verbose`](../cli/dart-sass/#verbose) в командной строке, или [опцию `verbose`](https://sass-lang.com/documentation/js-api/interfaces/Options/#verbose) в JavaScript API.

!!! tip "Совет"

    При запуске из [JS API](https://sass-lang.com/documentation/js-api/) Sass не делится никакой информацией между компиляциями, поэтому по умолчанию он будет выводить пять предупреждений для *каждой таблицы стилей*, которая компилируется. Однако вы можете это исправить, написав (или попросив автора плагина Sass вашего любимого фреймворка написать) [пользовательский `Logger`](https://sass-lang.com/documentation/js-api/interfaces/Logger-1/), который выводит только пять ошибок на каждое устаревание и может использоваться совместно для нескольких компиляций.

### Отключение устареваний в зависимостях {#silencing-deprecations-in-dependencies}

Иногда ваши зависимости имеют предупреждения об устаревании, с которыми вы ничего не можете поделать. Вы можете отключить предупреждения об устаревании из зависимостей, продолжая при этом выводить их для вашего приложения, используя [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps) в командной строке, или [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/Options/#quietDeps) в JavaScript API.

Для целей этого флага «зависимость» — это любая таблица стилей, которая не является просто серией относительных загрузок из входной таблицы стилей. Это означает всё, что поступает из пути загрузки, и большинство таблиц стилей, загруженных через пользовательские импортеры.

### Отключение конкретных устареваний {#silencing-specific-deprecations}

Если вы знаете, что одно конкретное устаревание не является для вас проблемой, вы можете отключить предупреждения для этого конкретного устаревания, используя [флаг `--silence-deprecation`](../cli/dart-sass/#silence-deprecation) в командной строке, или [опцию `silenceDeprecations`](https://sass-lang.com/documentation/js-api/interfaces/Options/#silenceDeprecations) в JavaScript API.
