---
title: Color JS API
icon: lucide/newspaper
---

> Некоторые аспекты Color JS API, разработанные с предположением, что все цвета взаимосовместимы, теперь больше не имеют смысла, поскольку Sass поддерживает все цветовые пространства CSS Color 4.

Так же, как некоторые аспекты [цветовых функций Sass устаревают](../breaking-changes/color-functions) с добавлением поддержки [CSS Color 4](https://developer.mozilla.org/en-US/blog/css-color-module-level-4/), некоторые части JS API для манипуляции цветами также устаревают.

### `color.change()` теперь требует `space` для изменений между пространствами {#color-change-now-requires-a-space-for-cross-space-changes}

Ранее метод [`color.change()`](https://sass-lang.com/documentation/js-api/classes/SassColor/#change) просто принимал набор названий каналов из пространств RGB, HSL или HWB. Пока эти каналы не смешивались между пространствами (например, изменением одновременно `red` и `hue`), Sass мог определить, какое пространство имелось в виду.

С Color 4 названия каналов цветовых пространств больше не однозначны. Многие пространства имеют каналы `red`, `green` и `blue` с разными диапазонами; многие пространства имеют каналы `hue`, которые создают совершенно разные цветовые колёса. Чтобы устранить эту неоднозначность, `color.change()` теперь принимает параметр `space`, который явно указывает название цветового пространства, в котором вы хотите выполнить преобразование:

```js
const color = new sass.SassColor({red: 0x66, green: 0x33, blue: 0x99});
color.change({hue: 270, space: "okclh"});
```

Указание цветового пространства обязательно, если цвет не находится в [наследуемом цветовом пространстве](../values/colors#legacy-color-spaces) или если вы изменяете канал, такой как chroma, который существует только в не-наследуемых цветовых пространствах. Это всегда необязательно, если вы изменяете канал, существующий в собственном пространстве цвета, поэтому `color.change({red: 0.8})` всегда относится к родному каналу red любого цвета с каналами `red`, `green` и `blue`.

Для обратной совместимости, если вы изменяете наследуемые каналы для наследуемого цвета, Sass по-прежнему будет автоматически конвертировать цвет для вас. Однако это поведение устарело. Чтобы быть в безопасности, вы _должны всегда_ передавать параметр `space`, если не уверены, что цвет уже находится в том цветовом пространстве, канал которого вы хотите изменить.

### Значения каналов `null` {#null-channel-values}

Одно из основных изменений в CSS Color 4 — это новая концепция [«отсутствующих» каналов](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#missing_color_components). Например, `hsl(none 0% 40%)` имеет отсутствующую hue, которая обрабатывается как 0 в большинстве случаев, но не влияет на интерполяцию цвета, чтобы градиент с этим цветом не имел фантомного красного оттенка посередине. При созд

## Можно ли отключить предупреждения? {#can-i-silence-the-warnings}

Sass предоставляет мощный набор опций для управления тем, какие предупреждения об устаревании вы видите и когда.

### Краткий и подробный режим {#terse-and-verbose-mode}

По умолчанию Sass работает в кратком режиме, где он будет выводить каждый тип предупреждения об устаревании только пять раз, прежде чем отключит дополнительные предупреждения. Это помогает гарантировать, что пользователи знают, когда им нужно быть в курсе предстоящего критического изменения, не создавая при этом огромного количества шума в консоли.

Если вы запустите Sass в подробном режиме, он будет выводить *каждое* предупреждение об устаревании, с которым столкнется. Это может быть полезно для отслеживания оставшейся работы, которую необходимо выполнить при исправлении устареваний. Вы можете включить подробный режим, используя [флаг `--verbose`](../cli/dart-sass/#verbose) в командной строке, или [опцию `verbose`](https://sass-lang.com/documentation/js-api/interfaces/Options/#verbose) в JavaScript API.

!!! tip "Совет"

    При запуске из [JS API](https://sass-lang.com/documentation/js-api/) Sass не делится никакой информацией между компиляциями, поэтому по умолчанию он будет выводить пять предупреждений для *каждой таблицы стилей*, которая компилируется. Однако вы можете это исправить, написав (или попросив автора плагина Sass вашего любимого фреймворка написать) [пользовательский `Logger`](https://sass-lang.com/documentation/js-api/interfaces/Logger-1/), который выводит только пять ошибок на каждое устаревание и может использоваться совместно для нескольких компиляций.

### Отключение устареваний в зависимостях {#silencing-deprecations-in-dependencies}

Иногда ваши зависимости имеют предупреждения об устаревании, с которыми вы ничего не можете поделать. Вы можете отключить предупреждения об устаревании из зависимостей, продолжая при этом выводить их для вашего приложения, используя [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps) в командной строке, или [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/Options/#quietDeps) в JavaScript API.

Для целей этого флага «зависимость» — это любая таблица стилей, которая не является просто серией относительных загрузок из входной таблицы стилей. Это означает всё, что поступает из пути загрузки, и большинство таблиц стилей, загруженных через пользовательские импортеры.

### Отключение конкретных устареваний {#silencing-specific-deprecations}

Если вы знаете, что одно конкретное устаревание не является для вас проблемой, вы можете отключить предупреждения для этого конкретного устаревания, используя [флаг `--silence-deprecation`](../cli/dart-sass/#silence-deprecation) в командной строке, или [опцию `silenceDeprecations`](https://sass-lang.com/documentation/js-api/interfaces/Options/#silenceDeprecations) в JavaScript API.
