---
title: Строгие унарные операторы
icon: lucide/newspaper
---

> Исторически Sass разрешал использовать `-` и `+` таким образом, что было неясно, намеревался ли автор использовать их как бинарный или унарный оператор. Этот запутывающий синтаксис объявляется устаревшим.

Как компилируется это свойство?

=== "SCSS"

    ```scss
    $size: 10px;

    div {
      margin: 15px -$size;
    }
    ```

=== "SASS"

    ```sass
    $size: 10px

    div
      margin: 15px -$size
    ```

Некоторые пользователи могут сказать: «знак `-` прикреплен к `$size`, поэтому должно быть `margin: 20px -10px`». Другие могут сказать: «знак `-` находится между `20px` и `$size`, поэтому должно быть `margin: 5px`». Sass в настоящее время согласен со вторым мнением, но настоящая проблема в том, что это так запутанно с самого начала! Это естественное, но неудачное следствие синтаксиса списков с пробелами в CSS в сочетании с арифметическим синтаксисом Sass.

Вот почему мы движемся к тому, чтобы сделать это ошибкой. В будущем, если вы хотите использовать бинарный оператор `-` или `+` (то есть тот, который вычитает или складывает два числа), вам нужно будет поставить пробелы с обеих сторон или ни с одной стороны:

* Допустимо: `15px - $size`
* Допустимо: `(15px)-$size`
* Недопустимо: `15px -$size`

Если вы хотите использовать унарный оператор `-` или `+` как часть списка с пробелами, вам (по-прежнему) нужно будет обернуть его в скобки:

* Допустимо: `15px (-$size)`

## Переходный период {#transition-period}

Мы сделаем это ошибкой в Dart Sass 2.0.0, но до тех пор это будет просто выдавать предупреждение об устаревании.

!!! tip "Совет"

    Помните, что вы можете отключить предупреждения об устаревании из библиотек, которые вы не контролируете! Если вы используете интерфейс командной строки, вы можете передать [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps), а если вы используете JavaScript API, вы можете установить [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/StringOptions#quietDeps) в `true`.

## Автоматическая миграция {#automatic-migration}

Вы можете использовать [мигратор Sass](https://github.com/sass/migrator#readme) для автоматического обновления ваших таблиц стилей, чтобы добавить пробел после любых операторов `-` или `+`, которым он нужен, что сохранит существующее поведение этих таблиц стилей.

```sh
$ npm install -g sass-migrator
$ sass-migrator strict-unary **/*.scss
```

## Можно ли отключить предупреждения? {#can-i-silence-the-warnings}

Sass предоставляет мощный набор опций для управления тем, какие предупреждения об устаревании вы видите и когда.

### Краткий и подробный режим {#terse-and-verbose-mode}

По умолчанию Sass работает в кратком режиме, где он будет выводить каждый тип предупреждения об устаревании только пять раз, прежде чем отключит дополнительные предупреждения. Это помогает гарантировать, что пользователи знают, когда им нужно быть в курсе предстоящего критического изменения, не создавая при этом огромного количества шума в консоли.

Если вы запустите Sass в подробном режиме, он будет выводить *каждое* предупреждение об устаревании, с которым столкнется. Это может быть полезно для отслеживания оставшейся работы, которую необходимо выполнить при исправлении устареваний. Вы можете включить подробный режим, используя [флаг `--verbose`](../cli/dart-sass/#verbose) в командной строке, или [опцию `verbose`](https://sass-lang.com/documentation/js-api/interfaces/Options/#verbose) в JavaScript API.

!!! tip "Совет"

    При запуске из [JS API](https://sass-lang.com/documentation/js-api/) Sass не делится никакой информацией между компиляциями, поэтому по умолчанию он будет выводить пять предупреждений для *каждой таблицы стилей*, которая компилируется. Однако вы можете это исправить, написав (или попросив автора плагина Sass вашего любимого фреймворка написать) [пользовательский `Logger`](https://sass-lang.com/documentation/js-api/interfaces/Logger-1/), который выводит только пять ошибок на каждое устаревание и может использоваться совместно для нескольких компиляций.

### Отключение устареваний в зависимостях {#silencing-deprecations-in-dependencies}

Иногда ваши зависимости имеют предупреждения об устаревании, с которыми вы ничего не можете поделать. Вы можете отключить предупреждения об устаревании из зависимостей, продолжая при этом выводить их для вашего приложения, используя [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps) в командной строке, или [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/Options/#quietDeps) в JavaScript API.

Для целей этого флага «зависимость» — это любая таблица стилей, которая не является просто серией относительных загрузок из входной таблицы стилей. Это означает всё, что поступает из пути загрузки, и большинство таблиц стилей, загруженных через пользовательские импортеры.

### Отключение конкретных устареваний {#silencing-specific-deprecations}

Если вы знаете, что одно конкретное устаревание не является для вас проблемой, вы можете отключить предупреждения для этого конкретного устаревания, используя [флаг `--silence-deprecation`](../cli/dart-sass/#silence-deprecation) в командной строке, или [опцию `silenceDeprecations`](https://sass-lang.com/documentation/js-api/interfaces/Options/#silenceDeprecations) в JavaScript API.
