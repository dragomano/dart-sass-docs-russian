---
title: Неправильно размещенные Rest-аргументы
icon: lucide/newspaper
---

> Исторически Sass разрешал rest-аргументам появляться в любом месте списка аргументов, хотя они всегда вычисляются в конце. Это закрывает эту лазейку и требует, чтобы rest-аргументы находились в конце списков аргументов.

[Rest-аргументы](../at-rules/function/#taking-arbitrary-arguments) в Sass (записываются как `$args...`) всегда предполагалось писать в конце списков аргументов. Способ их вычисления отражает это: они всегда выполняются после всех других аргументов, и они всегда добавляются в конец списка позиционных аргументов.

Однако из-за недосмотра в реализации как Ruby Sass, так и Dart Sass это никогда не проверялось. Было возможно написать вызов функции типа `rgb([1, 2]..., 3)` с rest-аргументом перед позиционным (или именованным) аргументом. Но это работало не так, как выглядит: это разбиралось так же, как `rgb(3, [1, 2]...)` и приводило к значению цвета `rgb(3, 1, 2)`.

!!! info "Информация"

    Обратите внимание, что объявления параметров в правилах `@function` и `@mixin` *всегда* требовали, чтобы rest-параметры находились в конце. На них это устаревание не влияет.

Чтобы устранить эту путаницу и потенциально открыть путь к поддержке более разумного поведения rest-аргументов в будущем, мы вносим изменения в несколько этапов:

### Фаза 1 {#phase-1}

В настоящее время Dart Sass выдает предупреждение об устаревании, если вы используете rest-аргумент где-либо, кроме как в конце списка аргументов.

Чтобы исправить любые нарушения и сохранить существующее поведение, просто переместите rest-аргумент в конец списка аргументов. Однако вы можете захотеть проверить, чтобы убедиться, что вы не ожидали, что он будет делать что-то другое, чем то, что он на самом деле делает, когда вы впервые написали код!

### Фаза 2 {#phase-2}

В Dart Sass 2.0.0 использование rest-аргумента где-либо, кроме как в конце списка аргументов, будет синтаксической ошибкой.

## Можно ли отключить предупреждения? {#can-i-silence-the-warnings}

Sass предоставляет мощный набор опций для управления тем, какие предупреждения об устаревании вы видите и когда.

### Краткий и подробный режим {#terse-and-verbose-mode}

По умолчанию Sass работает в кратком режиме, где он будет выводить каждый тип предупреждения об устаревании только пять раз, прежде чем отключит дополнительные предупреждения. Это помогает гарантировать, что пользователи знают, когда им нужно быть в курсе предстоящего критического изменения, не создавая при этом огромного количества шума в консоли.

Если вы запустите Sass в подробном режиме, он будет выводить *каждое* предупреждение об устаревании, с которым столкнется. Это может быть полезно для отслеживания оставшейся работы, которую необходимо выполнить при исправлении устареваний. Вы можете включить подробный режим, используя [флаг `--verbose`](../cli/dart-sass/#verbose) в командной строке, или [опцию `verbose`](https://sass-lang.com/documentation/js-api/interfaces/Options/#verbose) в JavaScript API.

!!! tip "Совет"

    При запуске из [JS API](https://sass-lang.com/documentation/js-api/) Sass не делится никакой информацией между компиляциями, поэтому по умолчанию он будет выводить пять предупреждений для *каждой таблицы стилей*, которая компилируется. Однако вы можете это исправить, написав (или попросив автора плагина Sass вашего любимого фреймворка написать) [пользовательский `Logger`](https://sass-lang.com/documentation/js-api/interfaces/Logger-1/), который выводит только пять ошибок на каждое устаревание и может использоваться совместно для нескольких компиляций.

### Отключение устареваний в зависимостях {#silencing-deprecations-in-dependencies}

Иногда ваши зависимости имеют предупреждения об устаревании, с которыми вы ничего не можете поделать. Вы можете отключить предупреждения об устаревании из зависимостей, продолжая при этом выводить их для вашего приложения, используя [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps) в командной строке, или [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/Options/#quietDeps) в JavaScript API.

Для целей этого флага «зависимость» — это любая таблица стилей, которая не является просто серией относительных загрузок из входной таблицы стилей. Это означает всё, что поступает из пути загрузки, и большинство таблиц стилей, загруженных через пользовательские импортеры.

### Отключение конкретных устареваний {#silencing-specific-deprecations}

Если вы знаете, что одно конкретное устаревание не является для вас проблемой, вы можете отключить предупреждения для этого конкретного устаревания, используя [флаг `--silence-deprecation`](../cli/dart-sass/#silence-deprecation) в командной строке, или [опцию `silenceDeprecations`](https://sass-lang.com/documentation/js-api/interfaces/Options/#silenceDeprecations) в JavaScript API.
