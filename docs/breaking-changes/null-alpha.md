---
title: Нулевой альфа-канал
icon: lucide/newspaper
---

> До Dart Sass 1.64.3 в JS и Dart API, если `null` передавался в конструктор `SassColor`, он рассматривался как 1. Это теперь устарело. Пользователи должны явно передавать 1 или `undefined` вместо этого.

Sass работает над добавлением поддержки [CSS Color Module Level 4](https://www.w3.org/TR/css-color-4/). Одно из изменений в этом модуле — концепция [«отсутствующих компонентов»](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#missing_color_components): если компонент цвета, такой как `alpha`, отсутствует, он в основном рассматривается как 0, но если он интерполируется с другим цветом (например, в градиенте или анимации), он автоматически примет значение другого цвета.

Нам нужен способ для пользователей JS и Dart API получать доступ и устанавливать отсутствующие каналы, и `null` — самый естественный способ это сделать. В большинстве случаев это не проблема; вызывающие функции, которые намереваются создать непрозрачные цвета, обычно просто опускают параметр `alpha` (или передают `undefined` в JS). Но если вызывающие функции явно передают `null`, это в конечном итоге будет рассматриваться как прозрачный цвет вместо непрозрачного.

Чтобы сохранить текущее поведение, вам нужно просто явно передать 1, если `alpha` не установлен. В JS:

```js
new sass.SassColor({
  red: 102,
  green: 51,
  blue: 153,
  alpha: alpha ?? 1,
});
```

И в Dart:

```dart
sass.SassColor.rgb(102, 51, 153, alpha ?? 1);
```

!!! info "Информация"

    Типы TypeScript для Sass API уже запрещают передавать `null` в качестве `alpha`; допускается только отсутствие, `undefined` или `Number`. Но до Dart Sass 1.64.3, если вы не использовали TypeScript и _действительно_ передавали `null`, он всё равно рассматривался как непрозрачный цвет.

## Переходный период {#transition-period}

Между Dart Sass 1.64.3 и предстоящим выпуском поддержки CSS Colors Level 4 Dart Sass продолжит интерпретировать значение `null` для `alpha` как непрозрачный цвет. Однако он будет выдавать предупреждение об устаревании, побуждая авторов явно передавать `alpha` 1 вместо этого.
