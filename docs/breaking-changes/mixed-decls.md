---
title: Смешанные объявления
icon: lucide/newspaper
---

> CSS изменил способ обработки объявлений, смешанных с вложенными правилами, и мы убедились, что Sass соответствует этому поведению.

## История до сих пор {#the-story-so-far}

Исторически, если вы смешивали вложенные правила и объявления в Sass, он выносил все объявления в начало правила, чтобы избежать избыточного дублирования внешнего селектора. Например:

<div class="grid" markdown>

=== "SCSS"

    ```scss
    .example {
      color: red;

      &--serious {
        font-weight: bold;
      }

      font-weight: normal;
    }
    ```

=== "SASS"

    ```sass
    .example
      color: red

      &--serious
        font-weight: bold

      font-weight: normal
    ```

```css title="CSS"
 .example {
  color: red;
  font-weight: normal;
}

.example--serious {
  font-weight: bold;
}
```

</div>

Когда [вложенность в обычном CSS](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_nesting) была впервые введена, она вела себя точно так же. Однако после некоторых обсуждений [рабочая группа CSS решила](https://github.com/w3c/csswg-drafts/issues/8738), что логичнее делать так, чтобы объявления применялись в том порядке, в котором они появляются в документе:

<div class="grid" markdown>

=== "SCSS"

    ```scss
    .example {
      color: red;

      &--serious {
        font-weight: bold;
      }

      font-weight: normal;
    }
    ```

=== "SASS"

    ```sass
    .example
      color: red

      &--serious
        font-weight: bold

      font-weight: normal
    ```

```css title="CSS"
.example {
  color: red;
}

.example--serious {
  font-weight: bold;
}

.example {
  font-weight: normal;
}
```

</div>

## Устаревание старого способа {#deprecating-the-old-way}

Использование объявлений _после_ вложенных правил было впервые устаревшим, чтобы уведомить пользователей о предстоящем изменении и дать им время сделать свои таблицы стилей совместимыми с ним.

Пользователи, которые хотели раньше перейти на новую семантику CSS, могли обернуть свои вложенные объявления в `& {}`:

<div class="grid" markdown>

=== "SCSS"

    ```scss
    .example {
      color: red;

      &--serious {
        font-weight: bold;
      }

      & {
        font-weight: normal;
      }
    }
    ```

=== "SASS"

    ```sass
    .example
      color: red

      &--serious
        font-weight: bold

      &
        font-weight: normal
    ```

```css title="CSS"
.example {
  color: red;
}
.example--serious {
  font-weight: bold;
}
.example {
  font-weight: normal;
}
```

</div>

## Можно ли отключить предупреждения? {#can-i-silence-the-warnings}

Sass предоставляет мощный набор опций для управления тем, какие предупреждения об устаревании вы видите и когда.

### Краткий и подробный режим {#terse-and-verbose-mode}

По умолчанию Sass работает в кратком режиме, где он будет выводить каждый тип предупреждения об устаревании только пять раз, прежде чем отключит дополнительные предупреждения. Это помогает гарантировать, что пользователи знают, когда им нужно быть в курсе предстоящего критического изменения, не создавая при этом огромного количества шума в консоли.

Если вы запустите Sass в подробном режиме, он будет выводить *каждое* предупреждение об устаревании, с которым столкнется. Это может быть полезно для отслеживания оставшейся работы, которую необходимо выполнить при исправлении устареваний. Вы можете включить подробный режим, используя [флаг `--verbose`](../cli/dart-sass/#verbose) в командной строке, или [опцию `verbose`](https://sass-lang.com/documentation/js-api/interfaces/Options/#verbose) в JavaScript API.

!!! tip "Совет"

    При запуске из [JS API](https://sass-lang.com/documentation/js-api/) Sass не делится никакой информацией между компиляциями, поэтому по умолчанию он будет выводить пять предупреждений для *каждой таблицы стилей*, которая компилируется. Однако вы можете это исправить, написав (или попросив автора плагина Sass вашего любимого фреймворка написать) [пользовательский `Logger`](https://sass-lang.com/documentation/js-api/interfaces/Logger-1/), который выводит только пять ошибок на каждое устаревание и может использоваться совместно для нескольких компиляций.

### Отключение устареваний в зависимостях {#silencing-deprecations-in-dependencies}

Иногда ваши зависимости имеют предупреждения об устаревании, с которыми вы ничего не можете поделать. Вы можете отключить предупреждения об устаревании из зависимостей, продолжая при этом выводить их для вашего приложения, используя [флаг `--quiet-deps`](../cli/dart-sass/#quiet-deps) в командной строке, или [опцию `quietDeps`](https://sass-lang.com/documentation/js-api/interfaces/Options/#quietDeps) в JavaScript API.

Для целей этого флага «зависимость» — это любая таблица стилей, которая не является просто серией относительных загрузок из входной таблицы стилей. Это означает всё, что поступает из пути загрузки, и большинство таблиц стилей, загруженных через пользовательские импортеры.

### Отключение конкретных устареваний {#silencing-specific-deprecations}

Если вы знаете, что одно конкретное устаревание не является для вас проблемой, вы можете отключить предупреждения для этого конкретного устаревания, используя [флаг `--silence-deprecation`](../cli/dart-sass/#silence-deprecation) в командной строке, или [опцию `silenceDeprecations`](https://sass-lang.com/documentation/js-api/interfaces/Options/#silenceDeprecations) в JavaScript API.

## Новый способ {#the-new-way}

Современные версии Sass ведут себя так же, как обычный CSS: объявления выводятся в том же порядке, в котором они написаны, даже если это требует дублирования правила, содержащего их, чтобы учесть переплетённые правила. То же самое относится к громким комментариям (`/* */`-стиля) и at-правилам без дочерних элементов.
